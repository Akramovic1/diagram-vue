(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["diagram"]=e():t["diagram"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"0a01":function(t,e,n){"use strict";var o=n("151d"),i=n.n(o);i.a},"0a49":function(t,e,n){var o=n("9b43"),i=n("626a"),r=n("4bf8"),s=n("9def"),c=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,a=3==t,f=4==t,l=6==t,d=5==t||l,p=e||c;return function(e,c,h){for(var m,v,y=r(e),b=i(y),g=o(c,h,3),x=s(b.length),_=0,w=n?p(e,x):u?p(e,0):void 0;x>_;_++)if((d||_ in b)&&(m=b[_],v=g(m,_,y),t))if(n)w[_]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(f)return!1;return l?-1:a||f?f:w}}},"0bfb":function(t,e,n){"use strict";var o=n("cb7c");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d2a":function(t,e,n){},"0d58":function(t,e,n){var o=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return o(t,i)}},1169:function(t,e,n){var o=n("2d95");t.exports=Array.isArray||function(t){return"Array"==o(t)}},"11e9":function(t,e,n){var o=n("52a7"),i=n("4630"),r=n("6821"),s=n("6a99"),c=n("69a8"),u=n("c69a"),a=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?a:function(t,e){if(t=r(t),e=s(e,!0),u)try{return a(t,e)}catch(n){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},1495:function(t,e,n){var o=n("86cc"),i=n("cb7c"),r=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,s=r(e),c=s.length,u=0;while(c>u)o.f(t,n=s[u++],e[n]);return t}},"151d":function(t,e,n){},"230e":function(t,e,n){var o=n("d3f4"),i=n("7726").document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},"2aba":function(t,e,n){var o=n("7726"),i=n("32e9"),r=n("69a8"),s=n("ca5a")("src"),c="toString",u=Function[c],a=(""+u).split(c);n("8378").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,c){var u="function"==typeof n;u&&(r(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(r(n,s)||i(n,s,t[e]?""+t[e]:a.join(String(e)))),t===o?t[e]=n:c?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,c,function(){return"function"==typeof this&&this[s]||u.call(this)})},"2aeb":function(t,e,n){var o=n("cb7c"),i=n("1495"),r=n("e11e"),s=n("613b")("IE_PROTO"),c=function(){},u="prototype",a=function(){var t,e=n("230e")("iframe"),o=r.length,i="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),a=t.F;while(o--)delete a[u][r[o]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(c[u]=o(t),n=new c,c[u]=null,n[s]=t):n=a(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var o=n("5537")("wks"),i=n("ca5a"),r=n("7726").Symbol,s="function"==typeof r,c=t.exports=function(t){return o[t]||(o[t]=s&&r[t]||(s?r:i)("Symbol."+t))};c.store=o},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"32e9":function(t,e,n){var o=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(t,e,n){var o=n("5ca1"),i=n("79e5"),r=n("be13"),s=/"/g,c=function(t,e,n,o){var i=String(r(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(o).replace(s,"&quot;")+'"'),c+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(c),o(o.P+o.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},4588:function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var o=n("be13");t.exports=function(t){return Object(o(t))}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var o=n("8378"),i=n("7726"),r="__core-js_shared__",s=i[r]||(i[r]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var o=n("7726"),i=n("8378"),r=n("32e9"),s=n("2aba"),c=n("9b43"),u="prototype",a=function(t,e,n){var f,l,d,p,h=t&a.F,m=t&a.G,v=t&a.S,y=t&a.P,b=t&a.B,g=m?o:v?o[e]||(o[e]={}):(o[e]||{})[u],x=m?i:i[e]||(i[e]={}),_=x[u]||(x[u]={});for(f in m&&(n=e),n)l=!h&&g&&void 0!==g[f],d=(l?g:n)[f],p=b&&l?c(d,o):y&&"function"==typeof d?c(Function.call,d):d,g&&s(g,f,d,t&a.U),x[f]!=d&&r(x,f,p),y&&_[f]!=d&&(_[f]=d)};o.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},"5dbc":function(t,e,n){var o=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var r,s=e.constructor;return s!==n&&"function"==typeof s&&(r=s.prototype)!==n.prototype&&o(r)&&i&&i(t,r),t}},"613b":function(t,e,n){var o=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return o[t]||(o[t]=i(t))}},"626a":function(t,e,n){var o=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},6821:function(t,e,n){var o=n("626a"),i=n("be13");t.exports=function(t){return o(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var o=n("d3f4");t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6b54":function(t,e,n){"use strict";n("3846");var o=n("cb7c"),i=n("0bfb"),r=n("9e1e"),s="toString",c=/./[s],u=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?u(function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?i.call(t):void 0)}):c.name!=s&&u(function(){return c.call(this)})},7514:function(t,e,n){"use strict";var o=n("5ca1"),i=n("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),o(o.P+o.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var o=n("4588"),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a46":function(t,e,n){"use strict";var o=n("d873"),i=n.n(o);i.a},"7f7f":function(t,e,n){var o=n("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,s="name";s in i||n("9e1e")&&o(i,s,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8378:function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},"86cc":function(t,e,n){var o=n("cb7c"),i=n("c69a"),r=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8b97":function(t,e,n){var o=n("d3f4"),i=n("cb7c"),r=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:r}},9093:function(t,e,n){var o=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},"9b43":function(t,e,n){var o=n("d8e8");t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var o=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[o]&&n("32e9")(i,o,{}),t.exports=function(t){i[o][t]=!0}},"9def":function(t,e,n){var o=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},aa77:function(t,e,n){var o=n("5ca1"),i=n("be13"),r=n("79e5"),s=n("fdef"),c="["+s+"]",u="​",a=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),l=function(t,e,n){var i={},c=r(function(){return!!s[t]()||u[t]()!=u}),a=i[t]=c?e(d):s[t];n&&(i[n]=a),o(o.P+o.F*c,"String",i)},d=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},b54a:function(t,e,n){"use strict";n("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var o=n("6821"),i=n("9def"),r=n("77f1");t.exports=function(t){return function(e,n,s){var c,u=o(e),a=i(u.length),f=r(s,a);if(t&&n!=n){while(a>f)if(c=u[f++],c!=c)return!0}else for(;a>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},c5f6:function(t,e,n){"use strict";var o=n("7726"),i=n("69a8"),r=n("2d95"),s=n("5dbc"),c=n("6a99"),u=n("79e5"),a=n("9093").f,f=n("11e9").f,l=n("86cc").f,d=n("aa77").trim,p="Number",h=o[p],m=h,v=h.prototype,y=r(n("2aeb")(v))==p,b="trim"in String.prototype,g=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():d(e,3);var n,o,i,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+e}for(var s,u=e.slice(2),a=0,f=u.length;a<f;a++)if(s=u.charCodeAt(a),s<48||s>i)return NaN;return parseInt(u,o)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(y?u(function(){v.valueOf.call(n)}):r(n)!=p)?s(new m(g(e)),n,h):g(e)};for(var x,_=n("9e1e")?a(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(m,x=_[w])&&!i(h,x)&&l(h,x,f(m,x));h.prototype=v,v.constructor=h,n("2aba")(o,p,h)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},ca5a:function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},cb7c:function(t,e,n){var o=n("d3f4");t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},cd1c:function(t,e,n){var o=n("e853");t.exports=function(t,e){return new(o(t))(e)}},ce10:function(t,e,n){var o=n("69a8"),i=n("6821"),r=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,c=i(t),u=0,a=[];for(n in c)n!=s&&o(c,n)&&a.push(n);while(e.length>u)o(c,n=e[u++])&&(~r(a,n)||a.push(n));return a}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d873:function(t,e,n){},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},dff6:function(t,e,n){"use strict";var o=n("0d2a"),i=n.n(o);i.a},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e853:function(t,e,n){var o=n("d3f4"),i=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},fab2:function(t,e,n){var o=n("7726").document;t.exports=o&&o.documentElement},fb15:function(t,e,n){"use strict";var o;(n.r(e),"undefined"!==typeof window)&&((o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=o[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"scrollX"},[n("svg",{attrs:{width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg"}},[n("rect",{attrs:{x:"0",y:"0",width:"2000",height:"1000",fill:"white"},on:{click:t.reset}}),t._l(t.linkList,function(e){return n("Link",{key:e.id,attrs:{link:e,selected:e.id===t.selectedLink,color:t.linkColor,source:t.findNode(e.source),destination:t.findNode(e.destination),editable:t.editable,labels:t.labels},on:{select:t.selectLink,updateLocation:t.updateLinkLocation,remove:t.removeLink}})}),t._l(t.nodeList,function(e){return n("Node",{key:e.id,attrs:{node:e,selected:e.id===t.selectedNode,createLinkMode:t.createLinkMode,editable:t.editable,labels:t.labels},on:{editNode:t.editNode,select:t.selectNode,updateLocation:t.updateNodeLocation,toggleSelect:t.toggleSrcSelect,commitDest:t.commitDest,remove:t.removeNode}})})],2)])])},r=[],s=(n("7514"),n("7f7f"),n("6b54"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[t.selected?n("g",[n("text",{staticClass:"button",attrs:{x:t.x+5,y:t.y+t.height+22,fill:"#00b894"},on:{click:t.editCandidate}},[t._v("\n      "+t._s(t.labels.edit||"Edit")+"\n    ")])]):t._e(),t.selected?n("g",[n("text",{staticClass:"button",attrs:{x:t.x+5,y:t.y-10,fill:"#00b894",stroke:"none"},on:{click:t.toggleSelect}},[t._v("\n      "+t._s(t.labels.link||"Link")+"\n    ")]),n("text",{staticClass:"button",attrs:{x:t.x+65,y:t.y+t.height+22,fill:"#ff7675"},on:{click:t.remove}},[t._v("\n      "+t._s(t.labels.remove||"Remove")+"\n    ")])]):t._e(),t.createLinkMode&&!t.selected?n("g",[n("text",{staticClass:"button",attrs:{x:t.x+5,y:t.y-10,fill:"#ff7675"},on:{click:t.commitDest}},[t._v("\n      "+t._s(t.labels.select||"Select")+"\n    ")])]):t._e(),n("svg",{staticClass:"shadow",attrs:{x:t.x,y:t.y,width:t.width,height:t.height}},["ellipse"===t.node.shape?n("ellipse",{staticClass:"grab",attrs:{cx:"50%",cy:"50%",width:"100%",height:"100%",rx:t.width/2,ry:t.height/2,fill:t.content.color||"#ecf0f1"},on:{touchstart:t.mousedown,mousedown:t.mousedown,mousemove:t.mousemove,touchmove:t.mousemove,mouseup:t.mouseup,touchend:t.mouseup}}):n("rect",{staticClass:"grab",attrs:{x:"0",y:"0",width:"100%",height:"100%",rx:"5",ry:"3",fill:t.content.color||"#ecf0f1"},on:{touchstart:t.mousedown,mousedown:t.mousedown,mousemove:t.mousemove,touchmove:t.mousemove,mouseup:t.mouseup,touchend:t.mouseup}}),n("a",{attrs:{target:"_blank",href:t.content.url}},[n("text",{attrs:{x:"50%",y:"50%",fill:"#34495e","font-family":"Meiryo UI, sans-serif","font-size":"20","text-anchor":"middle"}},[t._v("\n        "+t._s(t.content.text)+"\n      ")])])])])}),c=[];function u(t){if(Array.isArray(t))return t}function a(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(u){i=!0,r=u}finally{try{o||null==c["return"]||c["return"]()}finally{if(i)throw r}}return n}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(t,e){return u(t)||a(t,e)||f()}var d={methods:{getLocation:function(t){var e=0,n=0;return t.touches?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY),[e,n]}}},p={mixins:[d],props:{node:{width:Number,height:Number,id:String,point:{type:Object,default:{x:0,y:0}},content:{text:String,url:String,color:String},shape:{type:String,default:"rect"}},editable:Boolean,createLinkMode:Boolean,selected:Boolean,labels:Object},data:function(){return{startPosition:null,cursorOffset:{x:0,y:0},id:this.node.id,x:this.node.point.x,y:this.node.point.y,width:this.node.width,height:this.node.height,content:this.node.content}},methods:{toggleSelect:function(){this.$emit("toggleSelect")},commitDest:function(){this.$emit("commitDest",this.id)},remove:function(){this.$emit("remove",this.id)},mousedown:function(t){if(this.editable){this.$emit("select",this.id);var e=this.getLocation(t),n=l(e,2),o=n[0],i=n[1];this.cursorOffset.x=o,this.cursorOffset.y=i,this.startPosition={x:this.x,y:this.y},document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)}},mousemove:function(t){if(this.startPosition){t.preventDefault();var e=this.getLocation(t),n=l(e,2),o=n[0],i=n[1];this.x=this.startPosition.x+(o-this.cursorOffset.x),this.y=this.startPosition.y+(i-this.cursorOffset.y),this.$emit("updateLocation",{id:this.id,x:this.x,y:this.y})}},mouseup:function(){this.startPosition=null,document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup)},editCandidate:function(){this.$emit("editNode",{id:this.id,content:this.content})}}},h=p;n("dff6");function m(t,e,n,o,i,r,s,c){var u,a="function"===typeof t?t.options:t;if(e&&(a.render=e,a.staticRenderFns=n,a._compiled=!0),o&&(a.functional=!0),r&&(a._scopeId="data-v-"+r),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},a._ssrRegister=u):i&&(u=c?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(a.functional){a._injectStyles=u;var f=a.render;a.render=function(t,e){return u.call(e),f(t,e)}}else{var l=a.beforeCreate;a.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:a}}var v=m(h,s,c,!1,null,"be46eb32",null);v.options.__file="Node.vue";var y=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[n("path",{attrs:{d:"M"+(t.source.point.x+t.source.width/2)+" "+(t.source.point.y+t.source.height/2)+" Q "+t.point.x+" "+t.point.y+" "+(t.destination.point.x+t.destination.width/2)+" "+(t.destination.point.y+t.destination.height/2),stroke:t.color,"stroke-width":"3",fill:"none"}}),t.editable?n("g",[n("line",{attrs:{x1:t.source.point.x+t.source.width/2,y1:t.source.point.y+t.source.height/2,x2:t.point.x,y2:t.point.y,stroke:"lightgray"}}),n("line",{attrs:{x1:t.point.x,y1:t.point.y,x2:t.destination.point.x+t.destination.width/2,y2:t.destination.point.y+t.destination.height/2,stroke:"lightgray"}}),n("ellipse",{staticClass:"grab",attrs:{id:t.id,cx:t.point.x,cy:t.point.y,rx:"10",ry:"10",fill:"#ff7675","stroke-width":"2"},on:{click:t.select,mousedown:t.mousedown,touchstart:t.mousedown,mousemove:t.mousemove,touchmove:t.mousemove,mouseup:t.mouseup,touchend:t.mouseup}})]):t._e(),n("g",[t.selected?n("text",{staticClass:"button",attrs:{x:t.point.x-15,y:t.point.y+30,fill:"#ff7675"},on:{click:t.remove}},[t._v("\n      "+t._s(t.labels.remove||"Remove")+"\n    ")]):t._e()])])},g=[],x=(n("b54a"),{mixins:[d],props:{selected:Boolean,editable:Boolean,color:String,source:{id:Number,x:Number,y:Number},destination:{id:Number,x:Number,y:Number},link:{id:String,point:{x:Number,y:Number}},labels:Object},data:function(){return{startPosition:null,cursorOffset:{x:0,y:0},id:this.link.id,point:this.link.point}},methods:{mousedown:function(t){var e=this.getLocation(t),n=l(e,2),o=n[0],i=n[1];this.cursorOffset.x=o,this.cursorOffset.y=i,this.startPosition={x:this.point.x,y:this.point.y},document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)},mousemove:function(t){if(this.startPosition){t.preventDefault();var e=this.getLocation(t),n=l(e,2),o=n[0],i=n[1];this.point.x=this.startPosition.x+(o-this.cursorOffset.x),this.point.y=this.startPosition.y+(i-this.cursorOffset.y),this.$emit("updateLocation",{id:this.id,x:this.point.x,y:this.point.y})}},mouseup:function(){this.startPosition=null,document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup)},remove:function(){this.$emit("remove",this.id)},select:function(){this.$emit("select",this.id)}}}),_=x,w=(n("7a46"),m(_,b,g,!1,null,"16a9274e",null));w.options.__file="Link.vue";var k=w.exports,L={props:{width:Number,height:Number,nodes:Array,links:Array,editable:Boolean,linkColor:String,labels:Object},components:{Node:y,Link:k},computed:{nodeList:{get:function(){return this.nodes},set:function(t){this.$emit("nodeChanged",{nodes:t})}},linkList:{get:function(){return this.links},set:function(t){this.$emit("linkChanged",{links:t})}}},data:function(){return{name:"",url:"",color:"",selectedNode:-1,selectedLink:-1,createLinkMode:!1}},methods:{generateID:function(){return(new Date).getTime().toString(16)+Math.floor(1e6*Math.random()).toString(16)},editNode:function(t){this.$emit("editNode",t)},addNode:function(){this.editable&&this.nodeList.push({id:this.generateID(),content:{text:this.name,color:this.color,url:this.url},width:200,height:60,point:{x:10,y:100+100*Math.random()}})},reset:function(){this.createLinkMode||(this.selectedNode=-1,this.selectedLink=-1)},updateLinkLocation:function(t){var e=this.linkList.find(function(e){return e.id===t.id});e.point.x=t.x,e.point.y=t.y},findNode:function(t){return this.nodes.find(function(e){return e.id===t})},removeLink:function(t){this.linkList=this.linkList.filter(function(e){return e.id!==t})},updateNodeLocation:function(t){var e=this.nodeList.find(function(e){return e.id===t.id});e.point.x=t.x,e.point.y=t.y},selectNode:function(t){this.selectedNode=t},selectLink:function(t){this.selectedLink=t},toggleSrcSelect:function(){this.createLinkMode=!this.createLinkMode},commitDest:function(t){var e=this,n=this.nodeList.find(function(t){return t.id===e.selectedNode}),o=this.nodeList.find(function(e){return e.id===t});this.linkList.push({id:this.generateID(),source:this.selectedNode,destination:t,point:{x:.5*(n.point.x+o.point.x),y:.5*(n.point.y+o.point.y)}}),this.createLinkMode=!1,this.selectedNode=-1},removeNode:function(t){var e=this.nodeList.filter(function(e){return e.id!==t});this.nodeList=e;var n=this.linkList.filter(function(e){return e.source!==t&&e.destination!==t});this.linkList=n}}},N=L,S=(n("0a01"),m(N,i,r,!1,null,null,null));S.options.__file="Diagram.vue";var O=S.exports;e["default"]=O},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})["default"]});
//# sourceMappingURL=diagram.umd.min.js.map